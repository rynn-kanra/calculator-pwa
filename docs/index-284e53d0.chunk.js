var m={nol:0,satu:1,dua:2,tiga:3,empat:4,lima:5,enam:6,tujuh:7,delapan:8,sembilan:9,sepuluh:10,sebelas:11,seratus:100,seribu:1000,sejuta:12,semiliar:3,setriliun:6,setengah:(s)=>s+Math.pow(10,Math.floor(s).toString().length-1)/2,puluh:(s)=>s*10,belas:(s)=>s+10,ratus:(s)=>s*100,ribu:(s)=>s*1000,juta:(s)=>s*1e6,miliar:(s)=>s*1e9,triliun:(s)=>s*1000000000000},p=new Map([[/[.]/g,""],[/,/g,"."],[/(di)?kali/g,"*"],[/(di)?bagi/g,"/"],[/(di)?tambah/g,"+"],[/((di)?kurang|min[ue]s)/g,"-"],[/koma/g,"."],[/ blas/g,"belas"],[/enol/g,"nol"],[/due/g,"dua"],[/tige/g,"tiga"],[/lime/g,"lima"],[/tujoh/g,"tujuh"],[/lapan/g,"delapan"],[/persen/g,"%"],[/([^0-9.]|^)1\/2(?![0-9.])/g,"$1setengah"],[/(sama dengan|berapa|hasil|brapa)/g,"="]]);function g(s){return s.match(/^[-]?[0-9]+([.][0-9]+)?$/)!=null}function c(s){return s&&"+*-/%=".includes(s)}function h(s){s=s.toLowerCase();for(let[u,r]of p)s=s.replace(u,r);return s}function b(s){let u=h(s).split(" "),r=[],e=0,a=0,t=0,i=!1,f=!1;for(let n of u){if(n==="."){r.push((e+a+t).toFixed(0)+n),f=i=!0,e=a=t=0;continue}if(c(n)){if(e+=a+t,e!=0)r.push(e.toFixed(10).replace(/[.]?0+$/,""));r.push(n),i=!1,e=a=t=0;continue}if(g(n)){if(e+=a+t,e!=0)r.push(e.toFixed(10).replace(/[.]?0+$/,""));r.push(n),i=!1,e=a=t=0;continue}let l=m[n];switch(typeof l){case"number":{if(i)if(f)f=!1;else r[r.length-1]+=t;if(t==0)t=l;else if(t==1||!Number.isInteger(t))r.push((e+a+t).toFixed(10).replace(/[.]?0+$/,"")),e=a=0,t=l;else if(e+a==0)a=t*10,t=l;else r.push((e+a+t).toFixed(10).replace(/[.]?0+$/,"")),e=a=0,t=l;break}case"undefined":break;default:{if(t==0){if(e+=a+t,e===0&&r.length>0)e=Number(r[r.length-1]);if(e=l(e),e>=100)a=0;else if(e>=10)a=e,e=0;else t=e,e=a=0}else{let o=l(t);if(a>0&&o.toFixed(0).length>=a.toFixed(0).length)r.push((e+a).toFixed(10).replace(/[.]?0+$/,"")),e=0,t=0;else if(o>=10)a+=o,t=0;else t=o}i=!1;break}}}if(i){if(t)r[r.length-1]+=t}else if(e+=a+t,e!=0)r.push(e.toFixed(10).replace(/[.]?0+$/,""));return r}function d(s){let u=b(s),r="",e=!1,a=!1;for(let t of u)if(g(t)){if(e)r+="+",a=!1;let i=Number(t);if(!a&&Math.abs(i)<999)i*=1000,r+=i.toFixed(10).replace(/[.]?0+$/,"");else r+=t;e=!0}else{switch(r+=t,t){case"*":case"/":{a=!0;break}default:a=!1}e=!1}return r}
export{d as b};
