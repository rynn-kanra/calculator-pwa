import{x as t}from"./index-cf9dvks9.chunk.js";import{z as s}from"./index-d5ey5pt3.chunk.js";class r{_input;recognizeImage(){if(!this._input)this._input=document.createElement("input"),this._input.type="file",this._input.multiple=!0,this._input.style.display="none",document.body.appendChild(this._input);return new Promise((e,i)=>{this._input.onchange=async()=>{if(!this._input?.files)return;let n=await this.recognize(this._input.files[0]);e(n)},this._input.value="",this._input.click()})}resize(e,i=960){return t.canvas.resize(s(e,[e]),i)}}class o extends r{_engine;depedencies=["./workers/GutenyeWorker.js","./assets/models/paddleocr-en/det.onnx","./assets/models/paddleocr-en/rec.onnx","./assets/models/paddleocr-en/dictionary.txt"];async init(){if(this._engine)return;this._engine=t.gutenye}async recognize(e){if(!this._engine)await this.init();let i=await this.resize(e);return await this._engine?.detect(i)||""}}
export{r as v,o as w};
